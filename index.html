<script>
function calculate(){
  let h=parseMatches(home.value), a=parseMatches(away.value);
  let out=document.getElementById("output");

  if(h.invalid||a.invalid){
    out.innerText="âŒ Ø£ØµÙ„Ø­ Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØºÙ„Ø·";
    return;
  }
  if(h.matches.length<5||a.matches.length<5){
    out.innerText="âš ï¸ Ù„Ø§Ø²Ù… ØªØ¯Ø®Ù„ 5 Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚";
    return;
  }

  // Clean Sheets
  let hCS=h.matches.filter(x=>x.a===0).length;
  let aCS=a.matches.filter(x=>x.a===0).length;

  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù
  let hScored=h.matches.filter(x=>x.f>0).length;
  let aScored=a.matches.filter(x=>x.f>0).length;

  // GG
  let hGG=h.matches.filter(x=>x.f>0&&x.a>0).length;
  let aGG=a.matches.filter(x=>x.f>0&&x.a>0).length;

  // Ù…Ø¨Ø§Ø±ÙŠØ§Øª ØµÙØ± Ø£Ù‡Ø¯Ø§Ù
  let aZeroGoals=a.matches.filter(x=>x.f===0).length;

  // ÙÙ„ØªØ± GG Ø§Ù„Ø°ÙƒÙŠ
  let GG="Ù„Ø§";
  if(hGG>=3 && aGG>=3 && hScored>=3 && aScored>=3 && aZeroGoals<2){
    GG="Ù†Ø¹Ù…";
  }

  // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„Ø¯ÙØ§Ø¹ÙŠØ©
  let defensive=(hCS>=3 && aScored<=2);

  // Ø§Ù„ÙØ§Ø¦Ø²
  let winner="ØªØ¹Ø§Ø¯Ù„";
  if(!defensive){
    winner=(hCS>aCS)?"Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ù…Ø§Ù„":"Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†";
  }

  // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø£Ù‚Ø±Ø¨
  let score="1-1";
  if(defensive){
    score="0-0";
    winner="ØªØ¹Ø§Ø¯Ù„";
  }else if(GG==="Ù†Ø¹Ù…"){
    score=(hCS>aCS)?"2-1":"1-2";
  }else{
    score=(hCS>aCS)?"2-0":"0-2";
  }

  out.innerHTML=`
  ğŸ† <b>Ø§Ù„ÙØ§Ø¦Ø² Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</b> ${winner}<br>
  âš½ <b>GG:</b> ${GG}<br>
  ğŸ“Š <b>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø£Ù‚Ø±Ø¨:</b> ${score}
  `;
}
</script>
